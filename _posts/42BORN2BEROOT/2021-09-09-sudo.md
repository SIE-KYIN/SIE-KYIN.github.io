---
title: sudo
date: 2021-09-09 09:47
excerpt: "sudo와 root, 유저, 그룹에 대해서 알아보자:)"
categories:
- 42_BORN2BEROOT
tags:
- 42seoul
- sudo
---


<br />
<br />

---

# 개요

---

sudo와 root, 유저, 그룹들의 설정에 대해서 알아보자

◦ The hostname of your virtual machine must be your login ending with 42 (e.g.,wil42). 

◦ You will have to modify this hostname during your evaluation.

◦ You have to install and configure sudo following strict rules.

◦ In addition to the root user, a user with your login as username has to be present. This user has to belong to the user42 and sudo groups.

◦ You have to implement a strong password policy.

◦ To set up a strong configuration for your sudo group


<br />
<br />

---

# 호스트 이름 확인

---

`hostnamectl`

그냥 hostnamectl은 hostnamectl status가 실행된다.




<br />
<br />

---

# 호스트 이름 변경

---

`hostnamectl set-hostname host_name`



<br />
<br />

---

# PW 정책 변경

---

## 비밀번호 만료 및 수정 정책

비밀번호는 30일 뒤에 만료되고, 비밀번호를 수정하고 2일 뒤에 수정이 가능하고, 7일 전에 경고 메세지를 띄워야하므로 

`/etc/login.defs` 파일의 PASS_MAX_DAYS를 30으로 PASS_MIN_DAYS를 2로 PASS_WARN_AGE를 7로 바꾼다.

login.defs파일의 설정을 바꾼 이후 생성된 계정은 바뀐 정책대로 비밀번호를 설정해야 하지만 기존에 생성되었던 계정은 직접 바꿔줘야한다.

## 이미 있는 계정에 반영

`chage -m 2 -M 30 -W 7 계정이름`

chage 명령어는 계정의 패스워드 정책을 변경, 확인하는 명령어이다.

/etc/shadow 파일에서 각각의 계정의 패스워드 설정을 할 수 있다.

## 계정의 비밀번호 정책 확인

`chage -l 계정이름`

## 비밀번호 설정 정책 변경

`apt install libpam-pwquality`로 패스워드 설정에 필요한 기능을 제공하는 pam 모듈을 설치해준다. 
